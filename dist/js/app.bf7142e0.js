(function(){"use strict";var o={1815:function(o,t,e){var n=e(9242),r=e(3396);const a={class:"app-center-container"},s=(0,r._)("h1",null,"ðŸ“š BOOKSTORE PORTAL ðŸ“š",-1);function i(o,t,e,n,i,u){const l=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",a,[s,(0,r.Wm)(l)])}var u={name:"App",components:{},data(){return{bookData:[],book:{}}},methods:{setBookDetails(o){this.book=o}}},l=e(89);const h=(0,l.Z)(u,[["render",i]]);var c=h,d=e(2483);const m={class:"app-actions"},p={class:"book-list"};function k(o,t,e,n,a,s){const i=(0,r.up)("BookCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",m,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>s.onAddBook&&s.onAddBook(...o))},"Add Book"),(0,r._)("button",{onClick:t[1]||(t[1]=(...o)=>s.onShowAuthors&&s.onShowAuthors(...o))},"View Authors")]),(0,r._)("div",p,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.store.books,(o=>((0,r.wg)(),(0,r.j4)(i,{key:o.id,book:o,singleBook:!1},null,8,["book"])))),128))])],64)}var f=e(7139);const b=o=>((0,r.dD)("data-v-0fe1868c"),o=o(),(0,r.Cn)(),o),v={class:"book-card"},g={class:"book-title"},_=b((()=>(0,r._)("span",null,"ðŸ“”",-1))),w={id:"card-buttom-container"},B=(0,r.Uk)("View");function A(o,t,e,n,a,s){const i=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",v,[(0,r._)("h2",g,[_,(0,r.Uk)(" "+(0,f.zw)(e.book.name),1)]),(0,r._)("div",w,[(0,r._)("p",null,(0,f.zw)(`${e.book?.author.first_name} ${e.book?.author.last_name}`),1),e.singleBook?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[0]||(t[0]=o=>a.store.showBookDetails(e.book))},[(0,r.Wm)(i,{to:{name:"Book",params:{id:e.book.id}}},{default:(0,r.w5)((()=>[B])),_:1},8,["to"])]))])])}var y=e(4870);const D=(0,y.qj)({book:{},books:[],authors:[],author:{},showBookDetails(o){this.book=o},addBooks(o){this.books=o},updateBooks(o){this.books=[...this.books,o]},showAuthorDetails(o){this.author=o},addAuthors(o){this.authors=o},updateAuthors(o){this.authors=[...this.authors,o]}});var C={name:"BookCard",components:{},props:{book:{},singleBook:Boolean},data(){return{store:D}}};const M=(0,l.Z)(C,[["render",A],["__scopeId","data-v-0fe1868c"]]);var O=M;const j=async()=>await fetch("https://simple-bookstore-test.herokuapp.com/api/author"),G=async o=>await fetch("https://simple-bookstore-test.herokuapp.com/api/author",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}}),F=async()=>await fetch("https://simple-bookstore-test.herokuapp.com/api/book"),T=async o=>await fetch("https://simple-bookstore-test.herokuapp.com/api/book",{method:"POST",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}});var V={getAuthors:j,postAuthor:G,postBook:T,getBook:F},H={name:"HomeView",components:{BookCard:O},data(){return{store:D}},methods:{async getBooks(){V.getBook().then((o=>o.json())).then((o=>D.addBooks(o.reverse()))).catch((o=>console.log(o)))},onAddBook(){qo.push({path:"/book-form"})},onShowAuthors(){qo.push({name:"Authors"})}},created(){this.getBooks(),V.getAuthors().then((o=>o.json())).then((o=>D.addAuthors(o.reverse())))}};const I=(0,l.Z)(H,[["render",k]]);var S=I;const z={class:"book-list"},U={class:"go-back"};function Z(o,t,e,n,a,s){const i=(0,r.up)("BookCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",z,[(0,r.Wm)(i,{singleBook:!0,book:a.store.book},null,8,["book"])]),(0,r._)("div",U,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>s.onGoBack&&s.onGoBack(...o))},"Go Back")])],64)}var q={name:"BookView",components:{BookCard:O},data(){return{store:D}},methods:{onGoBack(){qo.push({path:"/"})}}};const P=(0,l.Z)(q,[["render",Z],["__scopeId","data-v-732f9d70"]]);var Y=P;const E=o=>((0,r.dD)("data-v-0353337a"),o=o(),(0,r.Cn)(),o),N={class:"form"},$={class:"go-back"},W=E((()=>(0,r._)("label",null,"Book Title",-1))),x={key:0},K=E((()=>(0,r._)("label",null,"ISBN Number",-1))),L={key:0},J=E((()=>(0,r._)("label",null,"Author",-1))),R=E((()=>(0,r._)("option",{disabled:"",value:""},"Please select an author",-1))),Q=["value"],X={key:0};function oo(o,t,e,a,s,i){return(0,r.wg)(),(0,r.iD)("form",N,[(0,r._)("div",$,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>i.onGoBack&&i.onGoBack(...o))},"Go Back")]),(0,r._)("fieldset",null,[W,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.name=o),placeholder:"Enter Book Title"},null,512),[[n.nr,s.name]]),s.errorMsg.name?((0,r.wg)(),(0,r.iD)("span",x,(0,f.zw)(s.errorMsg.name),1)):(0,r.kq)("",!0)]),(0,r._)("fieldset",null,[K,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.isbn=o),placeholder:"Enter ISBN Number"},null,512),[[n.nr,s.isbn]]),s.errorMsg.isbn?((0,r.wg)(),(0,r.iD)("span",L,(0,f.zw)(s.errorMsg.isbn),1)):(0,r.kq)("",!0)]),(0,r._)("fieldset",null,[J,(0,r.wy)((0,r._)("select",{"onUpdate:modelValue":t[3]||(t[3]=o=>s.author=o)},[R,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.store.authors,(o=>((0,r.wg)(),(0,r.iD)("option",{key:o.id,value:o.id},(0,f.zw)(`${o.first_name} ${o.last_name}`),9,Q)))),128))],512),[[n.bM,s.author]]),s.errorMsg.author?((0,r.wg)(),(0,r.iD)("span",X,(0,f.zw)(s.errorMsg.author),1)):(0,r.kq)("",!0)]),(0,r._)("button",{onClick:t[4]||(t[4]=(...o)=>i.addBook&&i.addBook(...o)),type:"button"},"Add")])}var to={name:"BookForm",data(){return{store:D,name:"",isbn:"",author:"",errorMsg:{name:null,isbn:null,author:null}}},methods:{validate(){let o=!0;return this.name?this.errorMsg["name"]=null:(o=!1,this.errorMsg["name"]="This field cannot be empty"),this.isbn?this.errorMsg["isbn"]=null:(o=!1,this.errorMsg["isbn"]="This field cannot be empty"),this.author&&-1!==this.author?this.errorMsg["author"]=null:(o=!1,this.errorMsg["author"]="Please select an option"),o},async addBook(){if(this.validate()){let o={name:this.name,isbn:this.isbn,author_id:parseInt(this.author)};V.postBook(o).then((o=>o.json())).then((o=>{D.updateBooks(o),this.resetForm()})).catch((o=>console.log(o)))}},onGoBack(){qo.push({name:"Home"})},resetForm(){this.name="",this.isbn="",this.author=""}}};const eo=(0,l.Z)(to,[["render",oo],["__scopeId","data-v-0353337a"]]);var no=eo;const ro={class:"app-actions"},ao={class:"book-list"};function so(o,t,e,n,a,s){const i=(0,r.up)("AuthorCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",ro,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>s.toAuthorForm&&s.toAuthorForm(...o))},"Add Author"),(0,r._)("button",{onClick:t[1]||(t[1]=(...o)=>s.toBooks&&s.toBooks(...o))},"View Books")]),(0,r._)("div",ao,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.store.authors,(o=>((0,r.wg)(),(0,r.j4)(i,{key:o.id,author:o,singleAuthor:!1},null,8,["author"])))),128))])],64)}const io=o=>((0,r.dD)("data-v-6a2f32c6"),o=o(),(0,r.Cn)(),o),uo={class:"author-card"},lo={class:"author-title"},ho=io((()=>(0,r._)("span",null,"ðŸ‘¤",-1))),co={id:"card-buttom-container"},mo=(0,r.Uk)("View");function po(o,t,e,n,a,s){const i=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",uo,[(0,r._)("h2",lo,[ho,(0,r.Uk)(" "+(0,f.zw)(`${e.author.first_name} ${e.author.last_name}`),1)]),(0,r._)("div",co,[e.singleAuthor?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,onClick:t[0]||(t[0]=o=>a.store.showAuthorDetails(e.author))},[(0,r.Wm)(i,{to:{name:"AuthorDetails",params:{id:e.author.id}}},{default:(0,r.w5)((()=>[mo])),_:1},8,["to"])]))])])}var ko={name:"AuthorCard",components:{},props:{author:{},singleAuthor:Boolean},data(){return{store:D}}};const fo=(0,l.Z)(ko,[["render",po],["__scopeId","data-v-6a2f32c6"]]);var bo=fo,vo={name:"AuthorView",components:{AuthorCard:bo},data(){return{store:D}},methods:{toBooks(){qo.push({path:"/"})},toAuthorForm(){qo.push({name:"AuthorForm"})},async getAuthors(){V.getAuthors().then((o=>o.json())).then((o=>D.addAuthors(o.reverse())))}},created(){this.getAuthors()}};const go=(0,l.Z)(vo,[["render",so],["__scopeId","data-v-0c404775"]]);var _o=go;const wo={class:"book-list"},Bo={class:"go-back"};function Ao(o,t,e,n,a,s){const i=(0,r.up)("AuthorCard");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("div",wo,[(0,r.Wm)(i,{singleAuthor:!0,author:a.store.author},null,8,["author"])]),(0,r._)("div",Bo,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>s.onGoBack&&s.onGoBack(...o))},"Go Back")])],64)}var yo={name:"AuthorDetails",components:{AuthorCard:bo},data(){return{store:D}},methods:{onGoBack(){qo.push({path:"/authors"})}}};const Do=(0,l.Z)(yo,[["render",Ao],["__scopeId","data-v-d176aa96"]]);var Co=Do;const Mo=o=>((0,r.dD)("data-v-a1e73fd8"),o=o(),(0,r.Cn)(),o),Oo={class:"form"},jo={class:"go-back"},Go=Mo((()=>(0,r._)("label",null,"Firstname",-1))),Fo={key:0},To=Mo((()=>(0,r._)("label",null,"Lastname",-1))),Vo={key:0};function Ho(o,t,e,a,s,i){return(0,r.wg)(),(0,r.iD)("form",Oo,[(0,r._)("div",jo,[(0,r._)("button",{onClick:t[0]||(t[0]=(...o)=>i.onGoBack&&i.onGoBack(...o))},"Go Back")]),(0,r._)("fieldset",null,[Go,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>s.firstname=o),placeholder:"Enter Firstname"},null,512),[[n.nr,s.firstname]]),s.errorMsg.firstname?((0,r.wg)(),(0,r.iD)("span",Fo,(0,f.zw)(s.errorMsg.firstname),1)):(0,r.kq)("",!0)]),(0,r._)("fieldset",null,[To,(0,r.wy)((0,r._)("input",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.lastname=o),placeholder:"Enter Lastname"},null,512),[[n.nr,s.lastname]]),s.errorMsg.lastname?((0,r.wg)(),(0,r.iD)("span",Vo,(0,f.zw)(s.errorMsg.lastname),1)):(0,r.kq)("",!0)]),(0,r._)("button",{onClick:t[3]||(t[3]=(...o)=>i.addAuthor&&i.addAuthor(...o)),type:"button"},"Add Author")])}var Io={name:"AuthorForm",data(){return{store:D,firstname:"",lastname:"",errorMsg:{firstname:null,lastname:null}}},methods:{validate(){let o=!0;return this.firstname?this.errorMsg["firstname"]=null:(o=!1,this.errorMsg["firstname"]="This field cannot be empty"),this.lastname?this.errorMsg["lastname"]=null:(o=!1,this.errorMsg["lastname"]="This field cannot be empty"),o},async addAuthor(){let o={first_name:this.firstname,last_name:this.lastname};this.validate()&&V.postAuthor(o).then((o=>o.json())).then((o=>{D.updateAuthors(o),this.resetForm()}))},onGoBack(){qo.push({name:"Authors"})},resetForm(){this.firstname="",this.lastname=""}}};const So=(0,l.Z)(Io,[["render",Ho],["__scopeId","data-v-a1e73fd8"]]);var zo=So;const Uo=[{path:"/",name:"Home",component:S},{path:"/books/:id",name:"Book",component:Y,props:!0},{path:"/book-form",name:"BookForm",component:no},{path:"/authors",name:"Authors",component:_o},{path:"/author/:id",name:"AuthorDetails",component:Co},{path:"/authors-form",name:"AuthorForm",component:zo}],Zo=(0,d.p7)({history:(0,d.PO)("/simple-bookstore-frontend-vue/"),routes:Uo});var qo=Zo;(0,n.ri)(c).use(qo).mount("#app")}},t={};function e(n){var r=t[n];if(void 0!==r)return r.exports;var a=t[n]={exports:{}};return o[n](a,a.exports,e),a.exports}e.m=o,function(){var o=[];e.O=function(t,n,r,a){if(!n){var s=1/0;for(h=0;h<o.length;h++){n=o[h][0],r=o[h][1],a=o[h][2];for(var i=!0,u=0;u<n.length;u++)(!1&a||s>=a)&&Object.keys(e.O).every((function(o){return e.O[o](n[u])}))?n.splice(u--,1):(i=!1,a<s&&(s=a));if(i){o.splice(h--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var h=o.length;h>0&&o[h-1][2]>a;h--)o[h]=o[h-1];o[h]=[n,r,a]}}(),function(){e.n=function(o){var t=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(t,{a:t}),t}}(),function(){e.d=function(o,t){for(var n in t)e.o(t,n)&&!e.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,t){return Object.prototype.hasOwnProperty.call(o,t)}}(),function(){var o={143:0};e.O.j=function(t){return 0===o[t]};var t=function(t,n){var r,a,s=n[0],i=n[1],u=n[2],l=0;if(s.some((function(t){return 0!==o[t]}))){for(r in i)e.o(i,r)&&(e.m[r]=i[r]);if(u)var h=u(e)}for(t&&t(n);l<s.length;l++)a=s[l],e.o(o,a)&&o[a]&&o[a][0](),o[a]=0;return e.O(h)},n=self["webpackChunkbookstore_frontend"]=self["webpackChunkbookstore_frontend"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(1815)}));n=e.O(n)})();
//# sourceMappingURL=app.bf7142e0.js.map